<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>CHristmas Festival</title>
        <meta name="description" content="">
        <script src="./js/aframe.min.js"></script>
        <script src="./js/aframe-bmfont-text-component.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    </head>
    <body>
        <a-scene auto-enter-vr>
            <a-assets>
                <img id="mute" src="assets/mute.png">
                <img id="unmute" src="assets/mnm.png">
                <img id="close" src="assets/close.png">
                <a-mixin id="cube" geometry="primitive: box"></a-mixin>
                <a-mixin id="cube-hovered" material="color: magenta"></a-mixin>
                <a-mixin id="cube-selected" material="color: cyan"></a-mixin>
                <a-mixin id="red" material="color: red"></a-mixin>
                <a-mixin id="green" material="color: green"></a-mixin>
                <a-mixin id="blue" material="color: blue"></a-mixin>
                <a-mixin id="yellow" material="color: yellow"></a-mixin>
                <a-mixin id="sphere" geometry="primitive: sphere"></a-mixin>
            </a-assets>
          <a-assets>
                <audio id="background_audio" src="assets/song.m4a"></audio>
            </a-assets>
             <a-assets>
       <img id="bg1" src="assets/QWER.jpg" />
       <img id="bell1" src="assets/Bell.png" />
      <img id="bell2" src="assets/Bell.png" />
<img id="CH" src="assets/CH.jpg" />
<img id="desc1" src="assets/ss.png" />  
<img id="qw" src="assets/new2.png" />
            </a-assets>
            <a-image id="mute" src="#mute" position="-1 0 0"></a-image>
            <a-image id="close-image" src="#close" position="1 0 0"></a-image>
            <a-entity position="0 2 4">
                <a-entity camera look-controls wasd-controls>
                    <a-entity position="0 0 -3" scale="0.2 0.2 0.2" geo2:13 PM 3/19/2017metry="primitive: ring; radiusOuter: 0.20;radiusInner: 0.10;" material="color: #ADD8E6; shader: flat" cursor="maxDistance: 30; fuse: true">
                        <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
                        <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.2 0.2 0.2" dur="1500"></a-animation>
                    </a-entity>
                </a-entity>
            </a-entity>

<a-curvedimage id="CH" src="#CH" transparent="true" 
              height="5" radius="5" theta-length="70" rotation="0  360 0" position="3 2 6">
            </a-curvedimage>
<a-entity>
    <a-animation attribute="position" from="-5 -10 -5" to="15 -15 -5" repeat="indefinite"></a-animation>
     <a-image position="16 4 -15" height="15" width="15"  src="#bell1"></a-image>
     </a-entity>

<a-entity>
    <a-animation attribute="position" from="-30 -10 -5" to="-45 -15 -5"  repeat="indefinite"></a-animation>
     <a-image position="16 4 -15" height="15" width="15"  src="#bell2"></a-image>
     </a-entity>

<a-entity>
    <a-animation attribute="position" from="30 20 -40" to="30 20 -40" repeat="0"></a-animation>
     <a-image position="16 4 -15" height="50" width="60"  src="#desc1"></a-image>
     </a-entity>
<a-entity>
    <a-animation attribute="position" from="-20 -3 -5" to="-20 -3 -5"  repeat="indefinite"></a-animation>
     <a-image position="16 4 -15" height="15" width="15"  src="#qw"></a-image>
     </a-entity>

    
    
                
     <a-sky src="#bg1"></a-sky>
        </a-scene>
        <script>
            AFRAME.registerComponent('auto-enter-vr', {
               init: function () {
                this.el.sceneEl.enterVR();
               }
            });
            
            var template = $('#hidden-template').html();
            var audio = document.querySelector('#background_audio');
            audio.addEventListener('loadeddata', function() {
                audio.play();
                $('a-scene').append(template);
            });
            var muted = false;
            var muteImage = document.querySelector("#mute-image");
            document.querySelector('#mute-image').addEventListener('click', function() {
                muted = !muted;
                document.getElementById('background_audio').muted = muted;
                if (muted) {
                    muteImage.setAttribute('material', {
                        'src': '#unmute',
                        'transparent': true
                    });
                } else {
                    muteImage.setAttribute('material', {
                        'src': '#mute',
                        'transparent': true
                    });
                }
            });
           document.querySelector("#close-image").addEventListener('click', function() {
            window.location.href = "../../index.html";
       
        });
        </script>
        
   
    </body>
</html>
